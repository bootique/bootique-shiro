# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-shiro
      
# travis encrypt -r bootique/bootique-shiro "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-shiro "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "V7Yw2UVV40HUTukxs1bWqJJzd+tLQz2ZEKpy2b2ixH1XZpWS5KsF4gZox0vatyk/R6xqoL23yyOQLzrYir9mzWN8HR4L5AlrpNmcGk6SQr6seno53OkxJHO98LEppXCuYKSybTs0s6fy+dkVvJjie3qfBCOZxg2zU7Vcv6Z9k9JP3H+OiYnVdvnzn4U/yHQ4buXQKrXclTEOf9lm4MscaItb5NvHGTwk+tE0qNx7v9GlOGQurGccax+ZIPRhIV3uqB7BA+4srvlciuzf2yYfLxpaJ8kCOOdcCeBlVjd572Cb3qqYR24CcnYJ/jc30ovpaRAHAtuY/eqbP2tHIum6hyRFSXTvkmR8R/TQ45mDxYV8lwqkVc9whXGtxKvXp6Zb3G7q4hHNdsJEzBILysRhIqxJ+Sa2fbCTsFWVUAdabf171JR0nn0PFyqo5W30R9s7ynuQsZ/mD8D4aYUTqyj+J7WZ8ze1+9XDF5qBGQdRXiZFmGxVbnVtjMmxqNsk5UIj9HyXzTpEKlcXmdhN7c+MbeLxytKhFivD0EChmHB4/QoH2pkENPF1UOy64QNvkiVHg7CiI179dZfo8vbl8iHC14rbzQSMFRs66qIP0mmIISojLxPNBjxdyJSphQREq+kd4o5oteZk+3Eo54j7XzHaFGhcPe4tBSVvCYYP78AsQBc="
    - secure: "g1jAlgsaC4/8w6y0WDLbOoGBihl1vwNAzUbQ5mik/dax6SHzMPaB2BIFaTXPUnZClUD3BCnCmlXJ/2pVEeLC38nm7K/JzXcr1scOwe5bA9+nXL8cdI17I73hJt0HK4xULnotnIopJV2TepYdo32nAL/+ohYpn3yuo7w2HcK+5yjxJR8R1RsIWVFltRmRWRuaBSoFxJmXxc9Db3VbFXqKEBkWgFho0cgl2vAI2Se4VaF7iYWokURsJdrTjvzGlP7iPYhaLgHaNgSj+KgStvG5Nbrl7ACj6e72j5aH/mM1g5e9uIo02EIEKyj8JViGDLIE1/mJRfmzPJNda1dlCfuCLD/kF0kTUIhyF9eqnD5xJG+o/ghiEhroTVpN6WHbzrp+tSz5hpKzJ6JEFFc5IpXMRTU92FAYLmlNB4Ud1NfrKp16l1PIrNqRsLkao2f4MDK32ImiVRxNDzkN4UaOHgf2lWajWlqHai2Un7bWssD/bfTZlw9tnJ94XlW5l+rOKFj8c0IzITmRY1BAGfq0lukCbeX2zydF4/cDmHnIXrnSQY+YH7/TUm2UoXSindg+yWvK//FIsYzkwEBuujhNXVwXr7O/bOHsiiItVR87wfP2wcZ1Y2WNgnmdj7w/57bQE2AiflGMzD2PkyvBXnS6/DMC7TZSzRHMxpibMgi9zJkN9j0="

